<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        ul.nav {
            border-bottom: 1px solid rgba(0, 0, 0, .125);
        }

        #labels-table td:nth-child(3) {
            text-align: center;
        }

        #video {
            width: 800px;
            height: 450px;
        }
    </style>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
        crossorigin="anonymous">

    <!--video js css-->
    <link href="http://vjs.zencdn.net/6.2.0/video-js.css" rel="stylesheet">

    <!--jquery ui-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css" rel="stylesheet">
</head>

<body>
    <div class="container-fluid">
        <div class="row mt-3 d-flex justify-content-center">

            <!--left column-->
            <div class="col d-flex flex-column">

                <!--video-->
                <div class="d-flex justify-content-center">
                    <video id="video" class="video-js vjs-default-skin" controls autoplay loop preload="metadata" data-setup='{ "playbackRates": [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2] }'>
                        <source src="local/@{{ video_src }}" type="video/{{ video_type }}">
                    </video>
                </div>

                <!--buttons-->
                <div class="d-flex mt-3 justify-content-center mb-5">
                    <button id="segment-start-btn" type="button" class="btn btn-secondary" onclick="click_segment_start_btn()">
                            Segment Start (s)
                    </button>
                    <button id="segment-end-btn" type="button" class="btn btn-secondary ml-3" onclick="click_segment_end_btn()">
                            Segment End (e)
                    </button>
                    <button type="button" class="btn btn-secondary ml-3" data-toggle="modal" data-target="#help-modal">
                        Help (?)
                    </button>
                </div>

            </div>

            <!--right column-->
            <div class="col-lg-3 mr-3">
                <div id="scroll-container" style="height: 450px; overflow-y: auto">
                    <table id='labels-table' class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th width="40%">Start</th>
                                <th width="40%">End</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>

                <div class="d-flex justify-content-end mt-3">
                    <div class="dropup">
                        <button class="btn btn-secondary" type="button" id="sort-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Sort
                        </button>
                        <div class="dropdown-menu" aria-labelledby="sort-btn">
                            <button type="button" class="dropdown-item" href="#" onclick="sort_labels_by_column(0)">By Start</button>
                            <button type="button" class="dropdown-item" href="#" onclick="sort_labels_by_column(1)">By End</button>
                        </div>
                    </div>

                    <button id="preview-btn" type="button" class="btn btn-primary ml-2" onclick="video_preview()">
                        Preview
                    </button> 

                    <label class="btn btn-success ml-2 mb-0" for="file-chooser" onclic="upload_labels()">
                        <input id="file-chooser" type="file" style="display:none;" accept='text/json'>
                        U
                    </label>

                    <a id="download-a" href="" download="" onclick="download_labels()">
                        <button id="download-btn" type="button" class="btn btn-success ml-2">
                            D
                        </button>
                    </a>

                </div>

            </div>
        </div>

        <div class="modal fade" id="help-modal" tabindex="-1" role="dialog" aria-labelledby="help-modal-title" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="help-modal-title">Help</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- jQuery -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>

        <!--bootstrap-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
            crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
            crossorigin="anonymous"></script>

        <!--video.js and youtube plugin-->
        <script src="http://vjs.zencdn.net/6.2.0/video.js"></script>
        <!--<script src="static/Youtube.min.js"></script>-->

        <!--keymaster.js-->
        <script src="static/keymaster.js"></script>

        <!--my script-->
        <script src="static/script.js"></script>

</body>

</html>